---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="C√≥mo trabajamos ¬∑ FisioClinic"
  description="Conoce c√≥mo trabajamos en FisioClinic: desde el primer contacto hasta el seguimiento, pasando por la primera sesi√≥n y el uso de nuestro centro y material."
>
  <!-- HEADER / NAVBAR -->
  <header class="sticky top-0 z-30 border-b border-white/5 bg-slate-950/80 backdrop-blur">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between gap-4">
      <!-- Logo / Nombre cl√≠nica -->
      <a href="/" class="inline-flex items-center gap-2 shrink-0">
        <div class="h-9 w-9 rounded-2xl overflow-hidden border border-emerald-400/60 bg-emerald-500/10 flex items-center justify-center">
  <img
    src="/IconoPesta√±a.png"
    alt="Logo FisioClinic"
    class="h-full w-full object-cover"
  />
</div>

        <div class="flex flex-col leading-tight">
          <span class="font-semibold text-sm sm:text-base">
            FisioMarcosGarc√≠a
          </span>
          <span class="text-[11px] sm:text-xs text-slate-400">
            Cl√≠nica de fisioterapia
          </span>
        </div>
      </a>

      <!-- Navegaci√≥n escritorio / tablet -->
      <nav
        class="hidden md:flex items-center gap-6 text-sm"
        aria-label="Navegaci√≥n principal"
      >
        <a href="/" class="text-slate-300 hover:text-emerald-300 transition-colors">
          Inicio
        </a>
        <a href="/servicios" class="text-slate-300 hover:text-emerald-300 transition-colors">
          Servicios
        </a>
        <a href="/centro" class="text-emerald-300">
          C√≥mo trabajamos
        </a>
        <a href="/equipo" class="text-slate-300 hover:text-emerald-300 transition-colors">
          Equipo
        </a>
        <a href="/contacto" class="text-slate-300 hover:text-emerald-300 transition-colors">
          Contacto
        </a>
      </nav>

      <!-- Bot√≥n hamburguesa solo en m√≥vil -->
      <button
        type="button"
        class="md:hidden inline-flex items-center justify-center rounded-full border border-slate-700/80 px-3 py-2 text-xs font-medium text-slate-200 hover:bg-slate-900/70 hover:border-slate-500 transition-colors"
        aria-label="Abrir men√∫ de navegaci√≥n"
        aria-expanded="false"
        data-menu-toggle
      >
        <span class="mr-2">Men√∫</span>
        <span class="relative flex h-3 w-3">
          <span
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-500 opacity-40"
          ></span>
          <span
            class="relative inline-flex rounded-full h-3 w-3 bg-emerald-400"
          ></span>
        </span>
      </button>
    </div>

    <!-- Men√∫ desplegable m√≥vil -->
    <div
      class="md:hidden border-t border-white/5 bg-slate-950/95 backdrop-blur-sm"
      data-menu
      hidden
    >
      <nav
        class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex flex-col gap-2 text-sm"
        aria-label="Navegaci√≥n m√≥vil"
      >
        <a
          href="/"
          class="py-1 text-slate-200 hover:text-emerald-300 transition-colors"
          data-menu-item
        >
          Inicio
        </a>
        <a
          href="/servicios"
          class="py-1 text-slate-200 hover:text-emerald-300 transition-colors"
          data-menu-item
        >
          Servicios
        </a>
        <a
          href="/centro"
          class="py-1 text-emerald-300"
          data-menu-item
        >
          C√≥mo trabajamos
        </a>
        <a
          href="/equipo"
          class="py-1 text-slate-200 hover:text-emerald-300 transition-colors"
          data-menu-item
        >
          Equipo
        </a>
        <a
          href="/contacto"
          class="py-1 text-slate-200 hover:text-emerald-300 transition-colors"
          data-menu-item
        >
          Contacto
        </a>
      </nav>
    </div>
  </header>

  <!-- MAIN C√ìMO TRABAJAMOS -->
  <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 space-y-16">
    <!-- HERO / INTRO -->
    <section class="space-y-8">
      <div class="space-y-4 max-w-3xl" data-animate="left">
        <p class="text-xs font-medium tracking-[0.22em] text-emerald-400 uppercase">
          C√≥mo trabajamos
        </p>
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight">
          Queremos que sepas qu√© va a pasar antes de venir
        </h1>
        <p class="text-slate-300 text-sm sm:text-base">
          Desde el momento en que nos contactas hasta el final del tratamiento, nuestra idea
          es que tengas la informaci√≥n clara, te sientas acompa√±ado y veas sentido a cada paso
          que damos juntos.
        </p>
      </div>

      <!-- Tarjetas gorditas, con animaci√≥n -->
      <div class="grid gap-5 sm:gap-6 sm:grid-cols-3 text-xs sm:text-sm">
        <div
          class="rounded-3xl border border-emerald-400/40 bg-emerald-500/10 p-5 sm:p-6 min-h-[120px] flex flex-col gap-2 transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_0_18px_rgba(16,185,129,0.35)] hover:border-emerald-300/80"
          data-animate="left"
        >
          <p class="font-medium text-emerald-100 flex items-center gap-2">
            <span class="text-lg">üìû</span>
            Primer contacto sencillo
          </p>
          <p class="text-emerald-50">
            Nos escribes o llamas, nos cuentas qu√© te pasa y te orientamos sobre el tipo
            de sesi√≥n y el momento ideal para empezar.
          </p>
        </div>

        <div
          class="rounded-3xl border border-sky-400/40 bg-sky-500/10 p-5 sm:p-6 min-h-[120px] flex flex-col gap-2 transition-transform transition-shadow duration-300 hover:-translate-y-1.5 hover:shadow-[0_0_18px_rgba(56,189,248,0.35)] hover:border-sky-300/80"
          data-animate="up"
        >
          <p class="font-medium text-sky-100 flex items-center gap-2">
            <span class="text-lg">üìù</span>
            Primera sesi√≥n con tiempo
          </p>
          <p class="text-sky-50">
            Valoramos tu caso, revisamos pruebas, exploramos y empezamos a tratar
            desde la primera visita siempre que sea posible.
          </p>
        </div>

        <div
          class="rounded-3xl border border-purple-400/40 bg-purple-500/10 p-5 sm:p-6 min-h-[120px] flex flex-col gap-2 transition duration-300 hover:-translate-y-1 hover:shadow-[0_0_18px_rgba(192,132,252,0.35)] hover:border-purple-300/80 hover:rotate-[0.3deg]"
          data-animate="right"
        >
          <p class="font-medium text-purple-100 flex items-center gap-2">
            <span class="text-lg">üìà</span>
            Seguimiento con sentido
          </p>
          <p class="text-purple-50">
            Marcamos objetivos, medimos cambios y ajustamos el tratamiento para que
            cada sesi√≥n tenga un prop√≥sito claro.
          </p>
        </div>
      </div>
    </section>

    <!-- DESDE QUE NOS CONTACTAS -->
    <section class="space-y-8" aria-labelledby="desde-contacto-title">
      <header class="space-y-2" data-animate="up">
        <h2
          id="desde-contacto-title"
          class="text-2xl sm:text-3xl font-semibold tracking-tight"
        >
          Desde que nos contactas hasta que reservas tu cita
        </h2>
        <p class="text-slate-300 text-sm sm:text-base max-w-2xl">
          El primer contacto es simplemente una conversaci√≥n. No hace falta que tengas
          todo claro: para eso estamos. Te orientamos sobre si la fisioterapia puede ayudarte
          y qu√© tipo de sesi√≥n encaja mejor.
        </p>
      </header>

      <div class="grid gap-6 md:grid-cols-3 text-xs sm:text-sm">
        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 space-y-2 transition-all duration-300 hover:-translate-y-1 hover:border-emerald-400/60 hover:shadow-[0_0_14px_rgba(16,185,129,0.3)]"
          data-animate="left"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>1.</span>
            Nos llamas, escribes o mandas un email
          </p>
          <p class="text-slate-300">
            Nos cuentas brevemente qu√© te pasa: desde cu√°ndo, qu√© te molesta m√°s
            y qu√© te preocupa. No hace falta entrar en detalles t√©cnicos.
          </p>
        </article>

        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 space-y-2 transition-all duration-300 hover:-translate-y-1 hover:border-sky-400/60 hover:shadow-[0_0_14px_rgba(56,189,248,0.3)]"
          data-animate="up"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>2.</span>
            Te proponemos el tipo de sesi√≥n
          </p>
          <p class="text-slate-300">
            Seg√∫n tu caso, te sugerimos una primera visita orientada a valoraci√≥n,
            tratamiento inicial o revisi√≥n si ya vienes tratado de otro centro.
          </p>
        </article>

        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 space-y-2 transition-all duration-300 hover:-translate-y-1 hover:border-purple-400/60 hover:shadow-[0_0_14px_rgba(192,132,252,0.3)]"
          data-animate="right"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>3.</span>
            Reservamos d√≠a y hora
          </p>
          <p class="text-slate-300">
            Acordamos contigo el horario que mejor te encaje dentro de nuestra agenda
            y te explicamos lo b√°sico: duraci√≥n, precio orientativo y qu√© traer.
          </p>
        </article>
      </div>

      <p class="text-[11px] sm:text-xs text-slate-500" data-animate="up">
        * La reserva se confirma siempre mediante conversaci√≥n directa (tel√©fono, WhatsApp o email).
        No utilizamos sistemas de reservas ni pagos online en esta web.
      </p>
    </section>

    <!-- PRIMERA SESI√ìN EN DETALLE -->
    <section class="space-y-8" aria-labelledby="primera-sesion-title">
      <header class="space-y-2" data-animate="up">
        <h2
          id="primera-sesion-title"
          class="text-2xl sm:text-3xl font-semibold tracking-tight"
        >
          Qu√© ocurre en la primera sesi√≥n
        </h2>
        <p class="text-slate-300 text-sm sm:text-base max-w-2xl">
          La primera sesi√≥n es clave: es donde m√°s hablamos, m√°s preguntamos y m√°s escuchamos.
          A partir de ah√≠, el tratamiento tiene mucho m√°s sentido.
        </p>
      </header>

      <div class="grid gap-8 lg:grid-cols-[1.1fr,0.9fr] items-start">
        <!-- Detalle paso a paso -->
        <div class="space-y-4 text-xs sm:text-sm">
          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-emerald-400/60 hover:shadow-[0_0_14px_rgba(16,185,129,0.3)]"
            data-animate="left"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üó£Ô∏è</span>
              Hablamos de tu historia
            </p>
            <p class="text-slate-300">
              Nos cuentas cu√°ndo empez√≥ el problema, c√≥mo ha evolucionado, qu√© tratamientos
              has probado y qu√© cosas te cuesta hacer ahora por culpa del dolor o la lesi√≥n.
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-sky-400/60 hover:shadow-[0_0_14px_rgba(56,189,248,0.3)]"
            data-animate="up"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üìã</span>
              Exploraci√≥n y valoraci√≥n f√≠sica
            </p>
            <p class="text-slate-300">
              Observamos tu movimiento, probamos fuerza, movilidad y, si hace falta,
              realizamos tests espec√≠ficos. Si traes pruebas m√©dicas, las revisamos contigo.
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-purple-400/60 hover:shadow-[0_0_14px_rgba(192,132,252,0.3)]"
            data-animate="right"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üí°</span>
              Explicaci√≥n clara y plan inicial
            </p>
            <p class="text-slate-300">
              Te explicamos qu√© creemos que est√° pasando, qu√© opciones tenemos y qu√©
              cambios podemos esperar. Juntos decidimos c√≥mo empezar el tratamiento.
            </p>
          </div>
        </div>

        <!-- Info r√°pida / pr√°ctica -->
        <div class="space-y-4 text-xs sm:text-sm">
          <div
            class="rounded-3xl border border-emerald-400/40 bg-emerald-500/5 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_0_16px_rgba(16,185,129,0.35)]"
            data-animate="up"
          >
            <p class="text-xs font-medium tracking-[0.22em] text-emerald-300 uppercase">
              Duraci√≥n y ropa
            </p>
            <p class="text-slate-50">
              La primera sesi√≥n suele durar entre 45 y 60 minutos.
            </p>
            <p class="text-emerald-50">
              Ven con ropa c√≥moda que te permita moverte y, si es posible, que deje
              accesible la zona que m√°s te molesta (por ejemplo, pantal√≥n corto si es rodilla).
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-amber-400/60 hover:shadow-[0_0_14px_rgba(251,191,36,0.3)]"
            data-animate="up"
          >
            <p class="text-xs font-medium tracking-[0.22em] text-slate-400 uppercase">
              Qu√© puedes notar despu√©s
            </p>
            <p class="text-slate-300">
              Es normal sentir alg√∫n cambio tras la sesi√≥n: alivio, ligera molestia muscular
              o sensaci√≥n de ‚Äúhaber trabajado‚Äù. Te explicaremos qu√© es esperable en tu caso
              y qu√© hacer si algo te preocupa.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- EL CENTRO Y EL MATERIAL -->
    <section class="space-y-8" aria-labelledby="centro-material-title">
      <header class="space-y-2" data-animate="up">
        <h2
          id="centro-material-title"
          class="text-2xl sm:text-3xl font-semibold tracking-tight"
        >
          El centro y el material con el que trabajamos
        </h2>
        <p class="text-slate-300 text-sm sm:text-base max-w-2xl">
          No se trata de tener m√°quinas por tenerlas, sino de contar con el espacio y el material
          necesarios para valorar bien y ayudarte a recuperar tu funci√≥n en el mundo real.
        </p>
      </header>

      <div class="grid gap-6 lg:grid-cols-[1.1fr,0.9fr] items-start">
        <!-- Lista de recursos -->
        <div class="grid gap-4 sm:grid-cols-2 text-xs sm:text-sm">
          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-4 space-y-1.5 transition-all duration-300 hover:-translate-y-1 hover:border-emerald-400/60 hover:shadow-[0_0_12px_rgba(16,185,129,0.3)]"
            data-animate="left"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üõèÔ∏è</span>
              Salas de tratamiento individuales
            </p>
            <p class="text-slate-300">
              Camillas c√≥modas, espacio tranquilo y privacidad para que te sientas a gusto
              durante las sesiones.
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-4 space-y-1.5 transition-all duration-300 hover:-translate-y-1 hover:border-sky-400/60 hover:shadow-[0_0_12px_rgba(56,189,248,0.3)]"
            data-animate="up"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üèãÔ∏è‚Äç‚ôÇÔ∏è</span>
              Zona de ejercicio y readaptaci√≥n
            </p>
            <p class="text-slate-300">
              Material para trabajar fuerza, equilibrio y control del movimiento de forma progresiva.
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-4 space-y-1.5 transition-all duration-300 hover:-translate-y-1 hover:border-purple-400/60 hover:shadow-[0_0_12px_rgba(192,132,252,0.3)]"
            data-animate="up"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üìä</span>
              Elementos de valoraci√≥n
            </p>
            <p class="text-slate-300">
              Tests funcionales, mediciones de rango de movimiento y fuerza para seguir tu evoluci√≥n.
            </p>
          </div>

          <div
            class="rounded-3xl border border-white/10 bg-slate-900/70 p-4 space-y-1.5 transition-all duration-300 hover:-translate-y-1 hover:border-amber-400/60 hover:shadow-[0_0_12px_rgba(251,191,36,0.3)]"
            data-animate="right"
          >
            <p class="font-medium text-slate-100 flex items-center gap-2">
              <span>üß∞</span>
              Herramientas de terapia manual
            </p>
            <p class="text-slate-300">
              T√©cnicas manuales, movilizaci√≥n y otras herramientas cuando realmente aportan valor
              a tu caso.
            </p>
          </div>
        </div>

        <!-- Tarjeta resumen filosof√≠a del centro -->
        <div
          class="rounded-3xl border border-emerald-400/40 bg-emerald-500/5 p-5 sm:p-6 text-xs sm:text-sm space-y-3 transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_0_18px_rgba(16,185,129,0.35)]"
          data-animate="up"
        >
          <p class="text-xs font-medium tracking-[0.22em] text-emerald-300 uppercase">
            M√°s que un sitio con camillas
          </p>
          <p class="text-slate-50">
            El centro est√° pensado para que puedas entender tu problema, moverte,
            probar ejercicios y ver qu√© te ayuda.
          </p>
          <p class="text-emerald-50">
            Nuestro objetivo es que salgas sabiendo algo m√°s sobre tu cuerpo y con
            la sensaci√≥n de que lo que has hecho en la sesi√≥n tiene sentido.
          </p>
        </div>
      </div>
    </section>

    <!-- SEGUIMIENTO Y FINAL DEL TRATAMIENTO -->
    <section class="space-y-8" aria-labelledby="seguimiento-title">
      <header class="space-y-2" data-animate="up">
        <h2
          id="seguimiento-title"
          class="text-2xl sm:text-3xl font-semibold tracking-tight"
        >
          Seguimiento, alta y qu√© pasa despu√©s
        </h2>
        <p class="text-slate-300 text-sm sm:text-base max-w-2xl">
          No buscamos que dependas de venir semana tras semana sin motivo. La idea es que
          cada sesi√≥n tenga un prop√≥sito y que, poco a poco, necesites menos ayuda.
        </p>
      </header>

      <div class="grid gap-6 md:grid-cols-3 text-xs sm:text-sm">
        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-emerald-400/60 hover:shadow-[0_0_14px_rgba(16,185,129,0.3)]"
          data-animate="left"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>üìÜ</span>
            Planificaci√≥n de sesiones
          </p>
          <p class="text-slate-300">
            En funci√≥n de tu caso, acordamos una frecuencia de visitas (por ejemplo, semanal
            al principio) y la vamos ajustando seg√∫n c√≥mo te encuentres.
          </p>
        </article>

        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-sky-400/60 hover:shadow-[0_0_14px_rgba(56,189,248,0.3)]"
          data-animate="up"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>‚úÖ</span>
            Alta progresiva
          </p>
          <p class="text-slate-300">
            Cuando la mejor√≠a se mantiene y te ves capaz de gestionar mejor tu d√≠a a d√≠a,
            espaciamos sesiones hasta que no las necesites de forma regular.
          </p>
        </article>

        <article
          class="rounded-3xl border border-white/10 bg-slate-900/60 p-5 sm:p-6 space-y-2.5 transition-all duration-300 hover:-translate-y-1 hover:border-purple-400/60 hover:shadow-[0_0_14px_rgba(192,132,252,0.3)]"
          data-animate="right"
        >
          <p class="font-medium text-slate-100 flex items-center gap-2">
            <span>üîÅ</span>
            Sabes qu√© hacer si el dolor vuelve
          </p>
          <p class="text-slate-300">
            Te explicamos qu√© se√±ales vigilar, qu√© ejercicios mantener y cu√°ndo puede ser
            buena idea volver a consultarnos.
          </p>
        </article>
      </div>

      <p class="text-[11px] sm:text-xs text-slate-500" data-animate="up">
        * Cada proceso es diferente. Hay personas que necesitan pocas sesiones y otras
        que requieren un seguimiento m√°s largo. Lo importante es que lo sepas y lo
        entiendas desde el principio.
      </p>
    </section>

    <!-- Semilla para que Tailwind no purgue clases de animaci√≥n -->
    <div class="hidden opacity-0 opacity-100 -translate-x-10 translate-x-10 translate-y-10 translate-x-0 translate-y-0"></div>
  </main>

  <!-- Script: men√∫ hamburguesa + animaciones scroll -->
  <script>
    // Men√∫ m√≥vil
    const toggle = document.querySelector("[data-menu-toggle]");
    const menu = document.querySelector("[data-menu]");
    const items = document.querySelectorAll("[data-menu-item]");

    if (toggle && menu) {
      const closeMenu = () => {
        menu.hidden = true;
        toggle.setAttribute("aria-expanded", "false");
      };

      const openMenu = () => {
        menu.hidden = false;
        toggle.setAttribute("aria-expanded", "true");
      };

      toggle.addEventListener("click", () => {
        const isOpen = toggle.getAttribute("aria-expanded") === "true";
        if (isOpen) {
          closeMenu();
        } else {
          openMenu();
        }
      });

      items.forEach((item) => {
        item.addEventListener("click", () => {
          closeMenu();
        });
      });

      window.addEventListener("resize", () => {
        if (window.innerWidth >= 768) {
          closeMenu();
        }
      });
    }

    // Animaciones al hacer scroll
    const animatedEls = document.querySelectorAll("[data-animate]");

    const applyHiddenState = (el) => {
      const dir = el.getAttribute("data-animate") || "up";

      el.classList.add("transition-all", "duration-700", "ease-out", "will-change-transform", "will-change-opacity");

      el.classList.remove(
        "opacity-100",
        "translate-x-0",
        "translate-y-0",
        "-translate-x-10",
        "translate-x-10",
        "translate-y-10"
      );

      el.classList.add("opacity-0");

      if (dir === "left") {
        el.classList.add("-translate-x-10");
      } else if (dir === "right") {
        el.classList.add("translate-x-10");
      } else {
        el.classList.add("translate-y-10");
      }
    };

    const applyVisibleState = (el) => {
      const dir = el.getAttribute("data-animate") || "up";

      el.classList.remove("opacity-0", "-translate-x-10", "translate-x-10", "translate-y-10");
      el.classList.add("opacity-100");

      if (dir === "left" || dir === "right") {
        el.classList.add("translate-x-0");
      } else {
        el.classList.add("translate-y-0");
      }
    };

    if (animatedEls.length > 0 && "IntersectionObserver" in window) {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const el = entry.target;
            if (entry.isIntersecting) {
              applyVisibleState(el);
            } else {
              applyHiddenState(el);
            }
          });
        },
        { threshold: 0.2 }
      );

      animatedEls.forEach((el) => {
        applyHiddenState(el);
        observer.observe(el);
      });
    }
  </script>
</BaseLayout>
